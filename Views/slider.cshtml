@using System.Collections.Generic
@using System.Linq
@using Umbraco.Cms.Core.Models.PublishedContent
@using Umbraco.Extensions
@model IEnumerable<IPublishedContent>

@if (Model?.Any() ?? false)
{
    <section id="hero-slider" class="splide" aria-label="Recommended restaurants">
      <div class="splide__track">
        <ul class="splide__list">
          @foreach (var r in Model)
          {
            <li class="splide__slide">
              <div class="slide-card">
                <a href="@r.Url()">
                  <img
                    src="@(r.Value<IPublishedContent>("image")?.Url())"
                    alt="@(r.Name)"
                  />
                  <div class="slide-content">
                    <h3>@(r.Value<string>("restaurantName"))</h3>
                    @{
    // Safely grab the description or empty string
    var desc = r.Value<string>("description") ?? "";
    // If longer than 100, take 100 chars + ellipsis; otherwise show whole thing
    var snippet = desc.Length > 100 
        ? desc.Substring(0, 100) + "…" 
        : desc;
}
<p>@snippet</p>

                  </div>
                </a>
              </div>
            </li>
          }
        </ul>
      </div>
    </section>
}
